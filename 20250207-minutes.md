## S3 Working Group Minutes

Friday, 2025/02/07

3:00 pm ET

## Attendees:

Terrell Russell, Kory Draughn, Alan King, Justin James, David Cerf (GRAU DATA), Illyoung Choi (CyVerse), Tony Edgin (CyVerse), Nirav Merchant (CyVerse)

## Minutes

DISCUSSION

 - iRODS S3 API
   - No updates
 - S3 plugin - Attach a bucket to a logical_path
   - https://github.com/irods/irods_resource_plugin_s3/issues/2196
   - Tony would like this
   - No updates
 - S3 plugin - Decoupled not honored when redirecting to second server
   - https://github.com/irods/irods_resource_plugin_s3/issues/2146
   - Some recent discussion, perhaps found the code/bug
 - SURF/Harry SRAM -> minio with automatic SRAM group permissions->r/w AWS policies
   - Early POC
   - OIDC via SRAM
   - Interested in how that might overlap with our S3 API approach
   - Perhaps similar to our as-yet-written mapping plugin to handle external permissions mapped to iRODS
   - Needs more demonstration
 - XtreemStore as S3 frontend to tape
   - Local s3 bucket in cache with tiering to tape AND s3/glacier
   - Similar to / overlap with S3 API in front of iRODS talking to tape
   - Who is managing the keypairs?
 - CyVerse fuse caching - Illyoung
   - --vfs-write-back duration     Time to writeback files after last use when using cache (default 5s)
   - Recently deployed dedicated solution for managing connections and caching
     - Deployed close to iRODS server - so fast / local-ish
     - Using google protobuf
       - Get auto reconnection and retries by default
       - Runs on unix socket or http
     - Will be the place to implement the fuse caching
 - Transactions
   - 1 client connection - opening two or more data objects (before logical locking)
     - F1 makes a change
     - F2 doesn't/can't see the change, until F2(?) is closed…
     - F3 then can see the update
   - rcSwitchUser handles this cleanup for this type of work
   - Looking for an API call that would 'flush' or 'fsync' for any updates / transactions
   - Would need a reproducible example of usage…
 - Next Meeting
   - March 2025
